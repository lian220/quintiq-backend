# 📝 Claude 문서 작성 가이드

Quantiq 프로젝트의 문서 작성 시 Claude가 따라야 할 규칙입니다.

## 🎯 문서 작성 원칙

### 1. **명확성 우선 (Clarity First)**
- 기술 용어는 첫 사용 시 설명 추가
- 예제 코드와 실행 결과 포함
- 단계별 설명은 번호 매기기
- 복잡한 개념은 다이어그램 활용

### 2. **일관성 유지 (Consistency)**
- 용어는 프로젝트 전체에서 통일
- 파일명은 한글 또는 영문 중 하나로 통일 (현재: 한글 우선)
- 마크다운 스타일 가이드 준수
- 이모지 사용 규칙 준수

### 3. **최신성 보장 (Up-to-date)**
- 구현 완료 시 즉시 문서 업데이트
- 마지막 업데이트 날짜 명시
- 구버전 정보는 legacy/ 폴더로 이동
- 변경 이력 TODO 파일에 체크

---

## 📁 문서 구조 규칙

### 폴더 배치 원칙

```
docs/
├── todo/           📋 개발 계획 및 체크리스트 (작업 진행 상황)
├── architecture/   🏗️ 시스템 설계 (변경 적음, 안정적)
├── setup/          ⚙️ 환경 설정 및 운영 (초기 설정용)
├── features/       ⭐ 기능 명세 (새 기능 추가 시)
├── migration/      🔄 마이그레이션 (일시적, 완료 후 참고용)
├── analysis/       📊 분석 결과 (날짜별 리포트)
├── kis/            💼 KIS API (외부 API 문서)
├── guidelines/     📖 개발 가이드 (코드 스타일, 컨벤션)
└── legacy/         📦 구버전 문서 (삭제 금지, 참고용)
```

### 파일명 규칙

**✅ 좋은 예:**
- `스케줄러_아키텍처.md` - 명사_명사 패턴
- `RDB_빠른시작.md` - 영문약어_한글
- `FRED_데이터_분석_2026-02-01.md` - 날짜 포함

**❌ 나쁜 예:**
- `스케줄러아키텍처.md` - 언더스코어 없음
- `scheduler_architecture.md` - 영문 (한글 우선)
- `스케줄러-아키텍처.md` - 하이픈 사용

### 파일 배치 규칙

**목적별 디렉토리 배치:**
- `docs/` (root) - 핵심 가이드만 (인증, 전체 아키텍처 등)
- `docs/architecture/` - 시스템 설계 문서
- `docs/setup/` - 환경 설정 및 운영 가이드
- `docs/kis/` - KIS API 관련 모든 문서
- `docs/features/` - 기능 명세 문서
- `docs/guidelines/` - 개발 가이드라인
- `docs/todo/` - TODO 및 계획 문서
- `docs/analysis/` - 데이터 분석 결과
- `docs/legacy/` - 구버전 참고 문서

**배치 원칙:**
1. **단일 책임**: 각 문서는 하나의 명확한 카테고리에 속함
2. **접근성**: 자주 참조되는 문서는 상위 디렉토리에 배치
3. **관련성**: 관련 문서끼리 같은 디렉토리에 그룹화
4. **일관성**: 비슷한 성격의 문서는 같은 위치에 배치

**예시:**
```
✅ 좋은 배치:
- docs/인증_가이드.md (핵심 가이드 - root)
- docs/setup/환경변수_관리_가이드.md (설정 관련 - setup)
- docs/kis/사용자_KIS_계정_가이드.md (KIS 관련 - kis)

❌ 나쁜 배치:
- docs/kis/환경변수_관리_가이드.md (KIS와 무관 - 잘못된 위치)
- docs/인증_시스템_상세_설계.md (상세 설계는 architecture로)
```

---

## 📝 문서 작성 포맷

### 1. 제목 구조

```markdown
# 📚 문서 제목 (h1 - 이모지 + 제목)

## 🎯 주요 섹션 (h2 - 이모지 + 제목)

### 하위 섹션 (h3 - 이모지 없음)

#### 세부 항목 (h4 - 이모지 없음)
```

### 2. 이모지 사용 규칙

**섹션별 이모지**
- 📋 TODO, 계획, 체크리스트
- 🏗️ 아키텍처, 시스템 설계
- ⚙️ 설정, 환경, 운영
- 🔄 마이그레이션, 변환
- ✅ 완료, 성공
- 🔄 진행 중
- 🔜 예정, 미완료
- ⚠️ 주의, 경고
- 🚨 긴급, 중요
- 💡 팁, 제안
- 📊 데이터, 분석
- 💼 비즈니스, API
- 🔐 보안, 인증
- 📚 문서, 가이드
- 🚀 시작, 실행

**상태 이모지**
- ✅ 완료
- 🔄 진행 중
- 🔜 예정
- ❌ 실패
- ⏸️ 중단
- 🚧 작업 중

### 3. 코드 블록

**Kotlin 예시:**
```kotlin
// ✅ 좋은 예: 설명 포함
@Service
class AnalysisService(
    private val analysisUseCase: AnalysisUseCase
) {
    // 기술적 분석 실행
    fun executeTechnicalAnalysis() {
        analysisUseCase.triggerTechnicalAnalysis()
    }
}
```

**Shell 스크립트:**
```bash
# ✅ 좋은 예: 주석으로 설명
./gradlew build  # Kotlin 빌드
docker-compose up -d  # 인프라 시작
```

### 4. 표 작성

```markdown
| 컬럼1 | 컬럼2 | 컬럼3 |
|-------|-------|-------|
| 데이터1 | 데이터2 | 데이터3 |
| 데이터4 | 데이터5 | 데이터6 |
```

### 5. 체크리스트

```markdown
- [x] 완료된 작업
- [ ] 진행 중인 작업
- [ ] 예정된 작업
```

---

## 🔄 문서 업데이트 규칙

### 완료 시 필수 업데이트

1. **TODO 파일 체크**
   - `docs/todo/스케줄러_마이그레이션_TODO.md` 등
   - 완료 항목 `[x]` 체크
   - 진행 상황 퍼센트 업데이트 (예: 8/9 완료)

2. **README 업데이트**
   - `docs/README.md` - 전체 문서 목록
   - 새 문서 추가 시 링크 포함
   - "마지막 업데이트" 날짜 변경

3. **아키텍처 문서**
   - 시스템 구조 변경 시 다이어그램 업데이트
   - 새 컴포넌트 추가 시 설명 포함

4. **Event Schema 문서**
   - 새 이벤트 추가 시 `docs/architecture/이벤트_스키마.md` 업데이트
   - 토픽명, 페이로드, 사용 예시 포함

### 문서 이동 규칙

**적절한 디렉토리로 이동:**
```bash
# 환경 설정 관련 문서 → setup/
git mv docs/환경변수_관리_가이드.md docs/setup/

# KIS API 관련 문서 → kis/
git mv docs/사용자_KIS_계정_가이드.md docs/kis/

# 아키텍처 관련 문서 → architecture/
git mv docs/시스템_설계.md docs/architecture/
```

**레거시 문서 처리:**
```bash
# MongoDB 기반 → PostgreSQL 기반으로 전환 시
git mv docs/architecture/MongoDB_설계.md docs/legacy/
```

**문서 이동 후 필수 작업:**
1. `docs/README.md`에서 링크 업데이트
2. `docs/todo/문서_완성도_체크리스트.md`에서 경로 수정
3. 다른 문서에서 참조하는 링크 모두 업데이트
4. 상대 경로 확인 및 수정

**새 버전 작성:**
- 구버전 삭제 금지 (legacy로 이동)
- 새 버전은 명확한 제목으로 생성
- 변경 사항은 "마이그레이션_히스토리.md"에 기록

---

## 📊 문서 품질 체크리스트

### 작성 전 확인

- [ ] 중복 문서가 없는지 확인
- [ ] 적절한 폴더에 배치
- [ ] 파일명 규칙 준수
- [ ] 이모지 규칙 준수

### 작성 중 확인

- [ ] 제목 계층 구조 올바른가?
- [ ] 코드 예시 포함했는가?
- [ ] 실행 결과 또는 스크린샷 포함했는가?
- [ ] 링크가 모두 작동하는가?

### 작성 후 확인

- [ ] 맞춤법 검토
- [ ] TODO 파일 업데이트
- [ ] README.md 링크 추가
- [ ] 마지막 업데이트 날짜 기입
- [ ] Git 커밋 메시지에 문서 변경 사항 명시

---

## 🎨 스타일 가이드

### 강조 표현

```markdown
**강조 텍스트** - 중요한 개념
*이탤릭* - 부가 설명
`코드` - 명령어, 파일명, 변수명
> 인용문 - 중요 메시지
```

### 링크 작성

```markdown
[상대 경로 링크](./setup/환경설정_가이드.md)
[절대 경로 링크](/docs/architecture/ARCHITECTURE.md)
[외부 링크](https://github.com/quantiq)
```

### 주의사항 블록

```markdown
⚠️ **주의:**
중요한 경고 메시지는 이렇게 작성합니다.

💡 **팁:**
유용한 정보는 이렇게 작성합니다.

🚨 **긴급:**
즉시 조치가 필요한 사항은 이렇게 작성합니다.
```

---

## 🔧 자주 사용하는 템플릿

### TODO 문서 템플릿

```markdown
# 🚀 [기능명] TODO

**목표:** [구현 목표]
**소요시간:** [예상 시간] | **난이도:** [난이도] | **위험도:** [위험도]

---

## 📊 현재 상태

**✅ 구현 완료 (X/Y)**

### 완료 항목
- [x] 항목 1
- [x] 항목 2

### 진행 중
- [ ] 항목 3

### 예정
- [ ] 항목 4

---

**마지막 업데이트**: YYYY-MM-DD
```

### 아키텍처 문서 템플릿

```markdown
# 🏗️ [시스템명] 아키텍처

## 📊 개요

[시스템 설명]

## 🎯 설계 목표

1. **목표 1**: 설명
2. **목표 2**: 설명

## 🏗️ 시스템 구조

```
다이어그램
```

## 💡 주요 컴포넌트

### 컴포넌트 1
설명

### 컴포넌트 2
설명

---

**마지막 업데이트**: YYYY-MM-DD
```

### 가이드 문서 템플릿

```markdown
# ⚙️ [기능명] 가이드

## 🎯 목적

[가이드 목적]

## 📋 사전 요구사항

- 요구사항 1
- 요구사항 2

## 🚀 시작하기

### 1단계: [단계명]

```bash
# 명령어
```

설명

### 2단계: [단계명]

설명

## 🔍 트러블슈팅

### 문제: [문제 설명]

**해결방법:**
해결 방법 설명

---

**마지막 업데이트**: YYYY-MM-DD
```

---

## 🚨 금지 사항

### ❌ 하지 말아야 할 것

1. **중복 문서 생성**
   - 기존 문서 확인 후 업데이트
   - 영문/한글 중복 금지

2. **레거시 문서 삭제**
   - 구버전은 legacy/ 폴더로 이동
   - 참고용으로 보존

3. **링크 깨짐 방치**
   - 파일명 변경 시 모든 링크 확인
   - 상대 경로 사용 권장

4. **날짜 누락**
   - "마지막 업데이트" 필수 기입
   - 날짜별 문서는 YYYY-MM-DD 형식

5. **미완성 문서 커밋**
   - WIP(Work In Progress) 표시 필수
   - 완성 후 표시 제거

---

## ✅ 문서 작성 체크리스트

커밋 전 최종 확인:

- [ ] 중복 문서 없음
- [ ] 파일명 규칙 준수
- [ ] 제목 구조 올바름
- [ ] 이모지 규칙 준수
- [ ] 코드 예시 포함
- [ ] 링크 작동 확인
- [ ] TODO 업데이트
- [ ] README.md 업데이트
- [ ] 마지막 업데이트 날짜 기입
- [ ] 맞춤법 검토

---

**문서 버전**: 1.0
**마지막 업데이트**: 2026-02-01
**작성자**: Claude Sonnet 4.5
